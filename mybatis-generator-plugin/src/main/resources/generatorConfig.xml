<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE generatorConfiguration PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN" "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">

<!--

       Copyright 2006-2025 the original author or authors.

       Licensed under the Apache License, Version 2.0 (the "License");
       you may not use this file except in compliance with the License.
       You may obtain a copy of the License at

          https://www.apache.org/licenses/LICENSE-2.0

       Unless required by applicable law or agreed to in writing, software
       distributed under the License is distributed on an "AS IS" BASIS,
       WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       See the License for the specific language governing permissions and
       limitations under the License.

-->
<generatorConfiguration>
    <!-- 请替换本地jar路径 -->
    <classPathEntry location="/iotdb/iotdb-client/jdbc/target/iotdb-jdbc-2.0.2-SNAPSHOT-jar-with-dependencies.jar"/>
    <!-- mvn mybatis-generator:generate hierarchical/flat-->
    <context id="myBatis3Simple" targetRuntime="MyBatis3Simple" defaultModelType="flat">
        <!--        <property name="suppressAllComments" value="true"/>-->
        <!--        <property name="useActualColumnNames" value="false"/>-->
        <!--        &lt;!&ndash; 格式化java代码 &ndash;&gt;-->
        <!--        <property name="javaFormatter" value="org.mybatis.generator.api.dom.DefaultJavaFormatter"/>-->
        <!--        &lt;!&ndash; 格式化XML代码 &ndash;&gt;-->
        <!--        <property name="xmlFormatter" value="org.mybatis.generator.api.dom.DefaultXmlFormatter"/>-->
        <!-- 配置插件 -->
        <plugin type="org.mybatis.generator.plugins.SerializablePlugin"/>
        <plugin type="org.mybatis.generator.plugins.LombokPlugin"/>
        <plugin type="org.mybatis.generator.plugins.LimitOffsetPlugin"/>
        <plugin type="org.mybatis.generator.plugins.DeleteByTimePlugin"/>
        <plugin type="org.mybatis.generator.plugins.EqualsHashCodePlugin"/>
        <plugin type="org.mybatis.generator.plugins.MapperAnnotationPlugin"/>
        <plugin type="org.mybatis.generator.plugins.InsertBatchPlugin"/>
        <plugin type="org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin"/>
        <plugin type="org.mybatis.generator.plugins.VirtualPrimaryKeyPlugin"/>
        <!--        <commentGenerator type="generator.org.apache.iotdb.mybatis.plugin.CNCommentGenerator">-->
        <!--            &lt;!&ndash; 是否去除自动生成的注释 true：是 ： false:否 &ndash;&gt;-->
        <!--            <property name="suppressAllComments" value="true"/>-->
        <!--        </commentGenerator>-->
        <commentGenerator type="org.mybatis.generator.internal.SwaggerCommentGenerator">
            <!-- 是否去除自动生成的注释 true：是 ： false:否 -->
            <property name="suppressAllComments" value="true"/>
            <property name="suppressDate" value="true"/>
            <property name="addRemarkComments" value="true"/>
        </commentGenerator>
        <!--数据库连接的信息：驱动类、连接地址、用户名、密码 -->
        <jdbcConnection driverClass="org.apache.iotdb.jdbc.IoTDBDriver" connectionURL="jdbc:iotdb://127.0.0.1:6667/test?sql_dialect=table" userId="root" password="root"></jdbcConnection>
        <!-- java类解析器,最多配置一个  -->
        <javaTypeResolver type="org.mybatis.generator.internal.types.IoTDBJavaTypeResolver">
            <property name="forceBigDecimals" value="false"/>
        </javaTypeResolver>
        <!-- 配置model生成位置 -->
        <javaModelGenerator targetPackage="org.apache.iotdb.mybatis.generator.model" targetProject="iotdb">
            <!--            <property name="rootClass" value="org.apache.iotdb.generator.model"/>-->
            <!--            构造方法/setting 加入参数-->
            <property name="enableSubPackages" value="true"/>
            <!--            对数据库查询结果进行 trim操作，默认 false-->
            <property name="trimStrings" value="true"/>
        </javaModelGenerator>
        <!-- 配置xml生成位置 -->
        <sqlMapGenerator targetPackage="org.apache.iotdb.mybatis.generator.xml" targetProject="iotdb">
            <!--sqlMapGenerator的property子属性只有一个可以配置的属性值enableSubPackages
                    enableSubPackages：默认是false
                        如果是true，MBG会根据catalog和schema来生成子包
                        如果false就会直接用targetPackage属性
            -->
            <property name="enableSubPackages" value="true"/>
        </sqlMapGenerator>
        <!-- 配置mapper.xml生成位置 -->
        <!--        如果使用的是MyBatis3配置，有以下三个值：-->
        <!--        ANNOTATEDMAPPER：基于注解的Mapper接口，不会有对应的XML映射文件-->
        <!--        MIXEDMAPPER：XML和注解的混合形式，相比ANNOTATEDMAPPER方式，SqlProvider注解方法会被XML替代。-->
        <!--        XMLMAPPER:所有的方法都写在XML中，接口调用需要依赖XML文件。-->
        <javaClientGenerator type="XMLMAPPER" targetPackage="org.apache.iotdb.mybatis.generator.mapper" targetProject="iotdb">
            <property name="enableSubPackages" value="true"/>
        </javaClientGenerator>
        <!-- 配置表信息 -->
        <!--        <table schema="test" tableName="connection" domainObjectName="Connection">-->
        <!--            &lt;!&ndash; 主键 &ndash;&gt;-->
        <!--            <property name="virtualKeyColumns" value="time" />-->
        <!--        </table>-->
        <!--        <table schema="test" tableName="query" domainObjectName="Query">-->
        <!--            &lt;!&ndash; 主键 &ndash;&gt;-->
        <!--            <property name="virtualKeyColumns" value="time" />-->
        <!--        </table>-->
        <table schema="test" tableName="mix3" domainObjectName="Mix" enableSelectByPrimaryKey="true" enableInsert="true" enableDeleteByPrimaryKey="true">
            <!-- 主键 -->
            <property name="virtualKeyColumns" value="time,device_id,deivce_name,device_tag"/>
            <!-- 强转数据库字段类型 -->
            <!--            <columnOverride column="template" jdbcType="FLOAT"/>-->
        </table>
    </context>
</generatorConfiguration>
